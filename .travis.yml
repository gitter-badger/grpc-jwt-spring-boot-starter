language: java
jdk:
- oraclejdk8
dist: trusty
before_deploy:
- mvn help:evaluate -N -Dexpression=project.version|grep -v '\['
- export project_version=$(mvn help:evaluate -N -Dexpression=project.version|grep -v '\[')
after_success:
- bash <(curl -s https://codecov.io/bash)
script:
- mvn package
deploy:
  provider: releases
  api_key:
    secure: KzlO7TWxRglrOSLTbHudh3OtDXfvuDEt35VpQ1ZT1n2cPD3IyRO4xkTd9iI19EoDWj9bU+8f8VHcqo12N5Qp9rd7WtO+OtMMMa5f8i6viZldzvYcsXJP18xHS5uW2mhNTlBHNsFroyB6PBgBGqavsS2sJRBPZshqMKMfqLmfrd+ZU1gldWBkxxhcL/NU0bGUcPKem7bMxRTYlBaYkwT1n0neOUiJI+/S9fo51elfuDy7FpsczIum4X4aDfqOrDiQSyn8wxwNHr+AHSoB+5AVi2XuIaeOljJ0N1zeVvNueBgl1XAFigTv5RSrksTeaHsi3A0YOqf6wfUcc967h+17zgQ5AG/sDcQ/bSAr2MqIymiXefoqea41D8TbsHGUU1vEf2fNF+Pa+dyOUg1wEAXyRoowYRoNpBTzjjyE+y6sUirArWD7xCm1YgqFMM9E3KCTP8ZXuDKNU97jeOQ3SQlXq0E92rXSQrpvpb2TPsZzOveoyCdi+ucyWLY4A66Jq0EU5rxdFh4LgOTCgwiMnEFt5tXdoc7pcMm1PdlwZrOz2OwRLHkmb57fYqPKlMrxIrBRKHqAi4KFfOPl1vbVadfJaZSFI3EmHbeUr/ziokKf43PHyxL3J9KaG7xnpNtX5XNJusO5I4rH9NDAKlDuySTW1979qzzNantbvMk0cdu2qdM=
  file: target/grpc-jwt-spring-boot-starter-$project_version.jar
  on:
    repo: majusko/grpc-jwt-spring-boot-starter